<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Painel de Extração Total (Via Workers)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #0f172a; color: #f1f5f9; padding: 40px 0; }
        .card { background: #1e293b; border: 1px solid #334155; }
        .res { background: #000; color: #10b981; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; height: 150px; overflow: auto; }
    </style>
</head>
<body>
<div class="container">
    <h2 class="mb-4">Dashboard Multi-API (Sem Bloqueios)</h2>
    <div class="row g-3">
        <div class="col-md-6">
            <div class="card p-3">
                <h6>Numverify (Telefone)</h6>
                <div class="input-group mb-2">
                    <input type="text" id="num_in" class="form-control" placeholder="5511999999999">
                    <button class="btn btn-primary" onclick="callWorker('numverify', 'num_in', 'out_num')">Testar</button>
                </div>
                <div id="out_num" class="res text-break">Aguardando...</div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card p-3">
                <h6>Ipstack (Geolocalização)</h6>
                <div class="input-group mb-2">
                    <input type="text" id="ip_in" class="form-control" placeholder="8.8.8.8">
                    <button class="btn btn-primary" onclick="callWorker('ipstack', 'ip_in', 'out_ip')">Testar</button>
                </div>
                <div id="out_ip" class="res text-break">Aguardando...</div>
            </div>
        </div>
    </div>
</div>

<script>
// COLOQUE O LINK DO SEU WORKER AQUI
const WORKER_URL = 'teste.theusxzmattos.workers.dev';

async function callWorker(apiName, inputId, outputId) {
    const val = document.getElementById(inputId).value;
    const out = document.getElementById(outputId);
    out.innerText = "Carregando...";
    
    try {
        const response = await fetch(`${WORKER_URL}?api=${apiName}&param=${val}`);
        const data = await response.json();
        out.innerText = JSON.stringify(data, null, 2);
    } catch (e) {
        out.innerText = "Erro: " + e.message;
    }
}
</script>
</body>
</html>
